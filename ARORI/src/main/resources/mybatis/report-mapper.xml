<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="report">

	<!-- 신고글 작성-->
<insert id="write" parameterType="reportDto">
INSERT INTO report values(report_seq.nextval,#{report_member},#{report_type},#{report_content},#{report_crimi},sysdate)
</insert>

	<!-- 신고글 리스트-->
<select id="list" resultType="reportDto">
SELECT * FROM REPORT ORDER by report_no asc
</select>

	<!-- 신고글 상세조회-->
<select id="content" resultType="reportDto" parameterType="int">
SELECT* FROM report WHERE report_no=#{report_no}
</select>

	<!-- 신고글 삭제-->
<delete id="delete" parameterType="reportDto">
		DELETE FROM REPORT WHERE
		report_no=#{report_no}
	</delete>
	
	<!-- 신고글 검색 -->
<select id="search" resultType="reportDto" parameterType="map">
SELECT * FROM report WHERE instr(${type},#{keyword})>0 ORDER BY report_no DESC
</select>

</mapper>


